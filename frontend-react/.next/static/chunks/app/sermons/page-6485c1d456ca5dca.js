(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{6768:function(e,t,s){Promise.resolve().then(s.bind(s,4679))},4679:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(7437),r=s(2265),n=s(7138);function l(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{i()},[]);let i=async()=>{try{let e=await fetch("".concat("https://api.wpgc.church","/api/admin/sermons")),s=await e.json();t(s.files||[])}catch(e){console.error("Error fetching sermons:",e)}finally{l(!1)}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Sermon Library"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage and organize all uploaded sermons"})]}),(0,a.jsx)(n.default,{href:"/sermons/upload",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Upload New Sermon"})]}),s?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"text-gray-500",children:"Loading sermons..."})}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Upload Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No sermons uploaded yet"})}):e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-2xl mr-3",children:"\uD83C\uDFB5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.filename}),e.speaker&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Speaker: ",e.speaker]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(t<0?0:t))+" "+["Bytes","KB","MB","GB"][s]}(e.size)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.uploadDate).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.duration?function(e){let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?"".concat(t,"h ").concat(s,"m"):"".concat(s,"m ").concat(e%60,"s")}(e.duration):"--"}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,a.jsx)("button",{className:"text-purple-600 hover:text-purple-900 mr-3",children:"Download"}),(0,a.jsx)("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})]})}}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=6768)}),_N_E=e.O()}]);